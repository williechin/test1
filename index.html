<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¦¬ë”ì‹­ ìˆ˜ì¤€ & ìœ í˜• ì§„ë‹¨ | by ì§„ìŠ¤ê¸°íš</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #f4f7f9;
            margin: 0;
            padding: 0;
            color: #2c3e50;
        }

        .container {
            max-width: 800px;
            margin: 50px auto;
            background: #fff;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-size: 28px;
            text-align: center;
            color: #1a2a6c;
            margin-bottom: 20px;
        }

        p {
            line-height: 1.6;
            color: #5a6c7d;
        }

        .hidden {
            display: none;
        }

        input[type="text"] {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            margin: 20px 0;
            border: 2px solid #e0e6ed;
            border-radius: 10px;
            box-sizing: border-box;
        }

        .question-item {
            margin-bottom: 40px;
            padding: 25px;
            border-radius: 12px;
            background: #f9fbff;
            border: 1px solid #edf2f7;
        }

        .question-text {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            display: block;
            color: #34495e;
        }

        .scale-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
        }

        .scale-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: 0.2s;
        }

        .scale-item input {
            margin-bottom: 10px;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .scale-label {
            font-size: 12px;
            color: #7f8c8d;
            text-align: center;
            min-height: 32px;
            word-break: keep-all;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        button {
            flex: 1;
            padding: 18px;
            font-size: 17px;
            font-weight: bold;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            transition: 0.3s;
        }

        .btn-next {
            background: #1a2a6c;
            color: #fff;
        }

        .btn-prev {
            background: #e2e8f0;
            color: #4a5568;
        }

        button:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        .progress-bar {
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #1a2a6c, #b21f1f);
            width: 0%;
            transition: 0.4s;
        }

        .result-box {
            background: #fff;
            padding: 30px;
            border-radius: 15px;
            border: 2px solid #f0f4f8;
            margin-bottom: 25px;
            text-align: center;
        }

        .type-badge {
            display: inline-block;
            padding: 4px 14px;
            background: #b21f1f;
            color: #fff;
            border-radius: 4px;
            font-weight: 800;
            font-size: 16px;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        .chart-container {
            width: 100%;
            max-width: 450px;
            margin: 30px auto;
        }

        .feedback-card {
            background: #f8faff;
            padding: 25px;
            border-left: 5px solid #1a2a6c;
            border-radius: 8px;
            text-align: center;
            margin-top: 20px;
        }

        footer {
            margin-top: 50px;
            text-align: center;
            font-size: 13px;
            color: #94a3b8;
            border-top: 1px solid #e2e8f0;
            padding-top: 20px;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

    <div class="container">
        <section id="step1">
            <h1>ë¦¬ë”ì‹­ ì§„ë‹¨ ì„œë¹„ìŠ¤</h1>
            <p style="text-align: center; margin-bottom: 5px;">ë¦¬ë”ì˜ <strong>'ìˆ˜ì¤€(Level)'</strong>ê³¼
                <strong>'ìœ í˜•(Type)'</strong>ì„ ë™ì‹œì— ì¸¡ì •í•©ë‹ˆë‹¤.<br>
                ì´ 25ê°œ ë¬¸í•­ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, <strong>3ë¶„ ì •ë„ ì†Œìš”</strong>ë©ë‹ˆë‹¤.</p>
            <p style="text-align: center; font-size: 14px; color: #94a3b8; margin-top: 0; margin-bottom: 30px;">by ì§„ìŠ¤ê¸°íš
                (Chin's Leadership)</p>
            <input type="text" id="leaderName" placeholder="í‰ê°€í•  ë¦¬ë”ì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
                onkeypress="if(event.keyCode==13) startTest()">
            <button class="btn-next" onclick="startTest()">ë¦¬ë” í‰ê°€ ì‹œì‘í•˜ê¸°</button>
        </section>

        <section id="step2" class="hidden">
            <div class="progress-bar">
                <div id="progressFill" class="progress-fill"></div>
            </div>
            <h2 id="pageTitle" style="font-size: 20px; color: #1a2a6c;"></h2>
            <form id="testForm"></form>
            <div class="btn-group">
                <button id="prevBtn" class="btn-prev" onclick="prevPage()">ì´ì „ ë‹¨ê³„</button>
                <button id="nextBtn" class="btn-next" onclick="nextPage()">ë‹¤ìŒ ë‹¨ê³„</button>
            </div>
        </section>

        <section id="step3" class="hidden">
            <h2 id="resultHeader" style="text-align: center; color: #1a2a6c; margin-bottom: 30px;"></h2>

            <div class="result-box">
                <p style="font-size: 18px; margin: 10px 0;">ë¦¬ë”ì‹­ ì´ì : <span id="totalScore"
                        style="color:#b21f1f; font-weight:bold; font-size: 24px;"></span> / 100ì </p>
                <p id="scoreGrade"
                    style="font-weight: bold; color: #1a2a6c; background: #eef2ff; display: inline-block; padding: 5px 15px; border-radius: 5px; margin-bottom: 20px;">
                </p>

                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>

            <div class="feedback-card">
                <div id="typeCode" class="type-badge"></div>
                <h3 id="styleName" style="margin: 0 0 15px 0; color: #1a2a6c; font-size: 24px;"></h3>

                <p id="styleDesc" style="color: #334155; font-size: 15px; text-align: left; line-height: 1.7;"></p>
                <div style="margin-top: 15px; padding-top: 15px; border-top: 1px dashed #cbd5e1; text-align: left;">
                    <strong>ğŸ’¡ ì „ë¬¸ê°€ í”¼ë“œë°±:</strong>
                    <p id="styleFeedback" style="color: #b21f1f; font-style: italic; margin-top: 5px;"></p>
                </div>
            </div>

            <button class="btn-prev" onclick="location.reload()" style="margin-top:30px;">ë‹¤ë¥¸ ë¦¬ë” í‰ê°€í•˜ê¸°</button>
            <footer>
                Â© ì§„ìŠ¤ê¸°íš (Chin's Leadership) All rights reserved.<br>wjcin26@gmail.com
            </footer>
        </section>
    </div>

    <script>
        const questions = [
            { q: "íŒ€ì›ë“¤ ê°œë³„ì ì¸ ëŠ¥ë ¥ê³¼ íŒ€ ì „ì²´ ì¡°ì§ë ¥ì„ ì˜ íŒŒì•…í•˜ê³  ìˆëŠ”ê°€?", cat: 0 },
            { q: "íŒ€ì´ ì²˜í•œ ìƒí™©ê³¼ í™˜ê²½ì„ ì˜ ì•Œê³  ìˆëŠ”ê°€?", cat: 0 },
            { q: "ì¡°ì§ì´ ë‚˜ì•„ê°€ì•¼ í•  ë°©í–¥(ëª©í‘œ)ì„ ì œëŒ€ë¡œ ì œì‹œí•˜ëŠ”ê°€?", cat: 0 },
            { q: "íŒ€ì›ë“¤ì—ê²Œ ì ì ˆí•œ ì—…ë¬´ ë¶„ì¥(í¬ë©”ì´ì…˜)ì„ í•˜ëŠ”ê°€?", cat: 0 },
            { q: "íŒ€ì›ë“¤ì´ ê¸°êº¼ì´ ë”°ë¥´ê³  ì‹¶ì–´ í•˜ëŠ” ì¸ê°„ì ì¸ ë§¤ë ¥ì´ ìˆëŠ”ê°€?", cat: 0 },
            { q: "íŒ€ì›ë“¤ì„ ì—…ë¬´ì— ëª°ì… ì‹œí‚¤ê³  í–‰ë™í•˜ê²Œ ë§Œë“œëŠ” ì¶”ì§„ë ¥ì´ ìˆëŠ”ê°€?", cat: 0 },
            { q: "ë¦¬ë”ì˜ ëŠ¥ë ¥ì´ í˜„ì¬ íŒ€ ê·œëª¨ë³´ë‹¤ ë” í° ì¡°ì§ì„ ì´ëŒê¸°ì— ì¶©ë¶„í•œê°€?", cat: 1 },
            { q: "ë¦¬ë”ì˜ ëŠ¥ë ¥ì´ íŒ€ì—ê²Œ ì£¼ì–´ì§ˆ ë‹¤ì–‘í•œ ì¼ë“¤ì„ ê°ë‹¹í•  ìˆ˜ ìˆëŠ”ê°€?", cat: 1 },
            { q: "ë””í…Œì¼í•˜ê²Œ ì§€ì‹œí•˜ì§€ ì•Šê³  ì„¸ë¶€ ì—…ë¬´ëŠ” ìœ„ì„í•˜ëŠ”ê°€?", cat: 1 },
            { q: "íŒ€ì›ë“¤ì´ ì„±ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆë‹¤ê³  ë¯¿ëŠ”ê°€?", cat: 1 },
            { q: "ë¬¸ì œê°€ ìƒê¸°ë©´ í”¼í•˜ì§€ ì•Šê³  ê²°ê³¼ì— ëŒ€í•´ ì±…ì„ì„ ì§€ëŠ”ê°€?", cat: 1 },
            { q: "ê°ì •ì— ì¹˜ìš°ì¹˜ì§€ ì•Šê³  ì´ì„±ì ìœ¼ë¡œ í–‰ë™í•˜ëŠ”ê°€?", cat: 2 },
            { q: "ìê¸° ìë‘ì„ ëŠ˜ì–´ë†“ì§€ ì•Šê³  ì‚¬ë¦¬ì‚¬ìš•ì„ ì±„ìš°ì§€ ì•ŠëŠ” ì‚¬ëŒì¸ê°€?", cat: 2 },
            { q: "ì¸ê²© ëª¨ë…, ìœ„í˜‘, ì„±í¬ë¡±ì ì¸ ì–¸í–‰ì„ í•˜ì§€ ì•ŠëŠ”ê°€?", cat: 2 },
            { q: "ë¹„ ìœ¤ë¦¬ì ì´ê±°ë‚˜ ë¹„ë„ë•ì  í–‰ìœ„ë¥¼ í•˜ì§€ ì•ŠëŠ”ê°€?", cat: 2 },
            { q: "íŒ€ì›ë“¤ ëª¨ë‘ì™€ ì ì ˆí•œ ê±°ë¦¬ë¥¼ ë‘ë©´ì„œ ê´€ê³„ë¥¼ ìœ ì§€í•˜ëŠ”ê°€?", cat: 2 },
            { q: "ìì‹ ì—ê²Œ ì£¼ì–´ì§„ ê¶Œí•œë§Œí¼ ì±…ì„ì˜ ë¬´ê²Œë¥¼ ì§Šì–´ì§€ëŠ”ê°€?", cat: 2 },
            { q: "ì‚¬ëŒë“¤ì˜ ë‹¤ì–‘ì„±(ê°œì„±, ê°€ì¹˜ê´€)ì„ ì§„ì‹¬ìœ¼ë¡œ ì´í•´í•˜ê³  ì¡´ì¤‘í•˜ëŠ”ê°€?", cat: 3 },
            { q: "íŒ€ì›ë“¤ì˜ ì˜ê²¬ì„ ê´€ì‹¬ìˆê²Œ ë“¤ì–´ì£¼ëŠ”ê°€?", cat: 3 },
            { q: "ì„¸ìƒì˜ ë³€í™”ì™€ íŠ¸ë Œë“œë¥¼ ë°›ì•„ë“¤ì¼ ìˆ˜ ìˆëŠ”ê°€?", cat: 3 },
            { q: "ì‹ ì„¸ëŒ€ì™€ êµ¬ì„¸ëŒ€ë¥¼ ëª¨ë‘ ì•„ìš°ë¥¼ ìˆ˜ ìˆëŠ” í¬ìš©ë ¥ì„ ê°€ì¡ŒëŠ”ê°€?", cat: 3 },
            { q: "ëˆˆì— ë³´ì´ëŠ” ì‹¤ì ë¿ ì•„ë‹ˆë¼ íŒ€ì˜ ì‚¬ê¸°ì™€ ë¶„ìœ„ê¸°ë¥¼ ì˜ ì½ëŠ”ê°€?", cat: 3 },
            { q: "íŒ€ì›ë“¤ì˜ ëŠ¥ë ¥ì„ ì§€ì†ì ìœ¼ë¡œ í‰ê°€í•˜ê³  ì¡°ì–¸í•˜ëŠ”ê°€?", cat: 3 },
            { q: "ìœ ì‚¬ì‹œ ë¬¸ì œì ì„ íŒŒì•…í•˜ê³  í•´ê²°ì±…ì„ ì°¾ëŠ”ê°€?", cat: 3 },
            { q: "ê³ ì •ê´€ë…ì— ê°‡íˆì§€ ì•Šê³  ìœ ì—°í•œ ì‚¬ê³ ë¥¼ í•˜ëŠ”ê°€?", cat: 3 }
        ];

        const typeInfo = {
            "LBAW": { name: "ì§„ì •í•œ ë¦¬ë”", desc: "ë¦¬ë”ë¡œì„œ ê°–ì¶”ì–´ì•¼ í•  ê²ƒë“¤ì„ ëª¨ë‘ ê°–ì¶”ê³  ì¡°ì§ì˜ ìƒëª…ì„ ì—°ì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.", feedback: "ì´ìˆœì‹ ì˜ í›„ì˜ˆì…ë‹ˆë‹¤! ê·¸ëŒ€ë¡œ ë°€ê³  ë‚˜ì•„ê°€ì„¸ìš”. ë§Œì¼ ì•„ë‹Œ ê²ƒ ê°™ìœ¼ë©´ í‰ê°€ìë“¤ì˜ ì˜ëª»ì…ë‹ˆë‹¤." },
            "LBAN": { name: "ë…ë‹¨ì˜ ë¦¬ë”", desc: "ë¦¬ë”ì‹­ ëŠ¥ë ¥ì€ ë›°ì–´ë‚˜ì§€ë§Œ ì„¸ìƒì„ ë‹¤ì–‘í•˜ê²Œ ë°”ë¼ë³´ëŠ” ê´€ì ì´ ë‹¤ì†Œ ë¶€ì¡±í•©ë‹ˆë‹¤.", feedback: "ë³€í™”ì™€ ë‹¤ì–‘ì„±ì— ëŒ€í•œ ê³µê°ì´ ì¢€ ë” í•„ìš”í•©ë‹ˆë‹¤. íŒ€ì›ë“¤ê³¼ ì£¼ë³€ì— ê·€ë¥¼ ê¸°ìš¸ì—¬ ì£¼ì„¸ìš”." },
            "LBDW": { name: "ìš•ì‹¬ìŸì´ ë¦¬ë”", desc: "ë¦¬ë”ì‹­ ëŠ¥ë ¥ë„ ìˆê³  ì„¸ìƒì— ëŒ€í•œ ì´í•´ë„ë„ ë†’ìŠµë‹ˆë‹¤ë§Œ ë¶€ì •ì ì¸ ê¸°ìš´ì´ ìˆìŠµë‹ˆë‹¤.", feedback: "ìê¸° ì¤‘ì‹¬ì  ì‚¬ê³ ì™€ í–‰ë™ì´ ê°•í•©ë‹ˆë‹¤. ì¡°ì§ì„ ìœ„í•´ í¬ìƒì´ í•„ìš”í•©ë‹ˆë‹¤." },
            "LBDN": { name: "ë¹„ì—´í•œ ë¦¬ë”", desc: "ë¦¬ë”ì‹­ ëŠ¥ë ¥ì€ íƒì›”í•˜ë‚˜ ì‹œì•¼ê°€ ì¢ê³  ìì‹ ë§Œ ìƒê°í•˜ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤.", feedback: "ì¡°ì§ì˜ ê¸°ìš´ì„ ë‚˜ì˜ê²Œ ë§Œë“¤ê³  ìˆì–´ìš”. ë³¸ì¸ë³´ë‹¤ êµ¬ì„±ì›ê³¼ ì¡°ì§ì„ ìœ„í•´ ë”ìš± ê·€ë¥¼ ê¸°ìš¸ì´ê³  í¬ìƒí•´ì•¼ í•©ë‹ˆë‹¤." },
            "LSAW": { name: "í•œê³„ê°€ ìˆëŠ” ë¦¬ë”", desc: "ë¦¬ë”ì‹­ì€ ìˆìœ¼ë‚˜, í˜„ì¬ë³´ë‹¤ ë” í° ì¼ì„ í•˜ê¸°ì—” í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤.", feedback: "ì¢€ ë” í¬ê²Œ ìƒê°í•˜ê³  íŒ€ì›ë“¤ì„ ë¯¿ê³  ìì‹ ì€ ì±…ì„ì„ ì§€ëŠ” ë°©í–¥ìœ¼ë¡œ ê°€ì•¼ í•©ë‹ˆë‹¤." },
            "LSAN": { name: "í¸í˜‘í•œ ë¦¬ë”", desc: "ì•ˆì •ì ì¸ ìš´ì˜ì€ ì˜í•˜ë‚˜ ì‘ì€ ê²ƒì— ì§‘ì°©í•˜ê±°ë‚˜ ê³ ì •ê´€ë…ì— ê°–í˜€ ë³€í™”ë¥¼ ë‘ë ¤ì›Œí•˜ê³  ìˆìŠµë‹ˆë‹¤.", feedback: "ê¸°ì¡´ì˜ ë°©ì‹ì„ ë²—ì–´ë‚˜ ì¢€ ë” í¬ê³  ìƒˆë¡­ê²Œ ë„ì „í•˜ëŠ” ëª¨ìŠµì„ ë³´ì—¬ì¤˜ì•¼ í•©ë‹ˆë‹¤." },
            "LSDW": { name: "ë‚˜ìœ ë¦¬ë”", desc: "ì£¼ë³€ ìƒí™©ì„ ì˜ ì•Œë©´ì„œë„ ì†Œì‹¬í•˜ê²Œ êµ´ê³  ë¶€ì •ì ì¸ ì—ë„ˆì§€ë¥¼ ê°–ê³  ìˆìŠµë‹ˆë‹¤.", feedback: "ì¢€ ë” í¬ê²Œ ìƒê°í•˜ê³  ë‚˜ìœ ìƒê°, ë‚˜ìœ ê¸°ìš´ì„ ì—†ì• ì•¼ í•©ë‹ˆë‹¤." },
            "LSDN": { name: "ì˜ëª» íƒœì–´ë‚œ ë¦¬ë”", desc: "ë¦¬ë”©ì„ í•  ìˆ˜ëŠ” ìˆìœ¼ë‚˜, ìš©ê¸°ë„, ì´í•´ë„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì¡°ì§ì— ë‚˜ìœ ì˜í–¥ì„ ë¯¸ì¹˜ê³  ê¼°ëŒ€ì…ë‹ˆë‹¤.", feedback: "ë‚˜ìœ ìƒê°ê³¼ ë‘ë ¤ìš´ ë§ˆìŒì„ ë²„ë¦¬ê³ , ê¸°ë³¸ì„ ìƒê°í•˜ë©° ì •ì§„í•´ì•¼ í•©ë‹ˆë‹¤." },
            "FBAW": { name: "ì§„ì •í•œ íŒ”ë¡œì›Œ", desc: "ë¦¬ë”ì‹­ì€ ì—†ì§€ë§Œ ì´í•´ë„ê°€ ë§ê³  ê¸ì •ì ì¸ íŒ€ì›ì…ë‹ˆë‹¤.", feedback: "ë¦¬ë”ë¥¼ ë³´ì¢Œí•˜ëŠ” ìµœê³ ì˜ ì±…ì‚¬ê°€ ì–´ìš¸ë¦½ë‹ˆë‹¤." },
            "FBAN": { name: "ê³ ì§‘ì„¼ íŒ”ë¡œì›Œ", desc: "ì‹¤í–‰ë ¥ì€ ì¢‹ìœ¼ë‚˜ ìƒˆë¡œìš´ íŠ¸ë Œë“œë‚˜ íƒ€ì¸ì˜ ì˜ê²¬ ìˆ˜ìš©ë„ê°€ ë‚®ìŠµë‹ˆë‹¤.", feedback: "ë³¸ì¸ì˜ ì—…ë¬´ ì „ë¬¸ì„±ì€ ë†’ìœ¼ë‚˜ ìœ ì—°í•œ ì‚¬ê³ ê°€ ë¶€ì¡±í•´ì„œ ë¦¬ë”ë¡œëŠ” ì í•©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." },
            "FBDW": { name: "ìš•ì‹¬ìŸì´ íŒ”ë¡œì›Œ", desc: "ì¡°ì§ê³¼ ë¦¬ë”ë¥¼ ì´ìš©í•´ ë³¸ì¸ì˜ ì´ìµë§Œì„ ì±™ê¸°ê±°ë‚˜ ì¡°ì§ì˜ ì—ë„ˆì§€ë¥¼ ê¹ì•„ë¨¹ìŠµë‹ˆë‹¤.", feedback: "ë¦¬ë”ë¡œì„œ ê¸°ë³¸ì ì¸ ì´í•´ë„ê°€ ë–¨ì–´ì§€ê³  í¬ìƒì´ ë¶€ì¡±í•©ë‹ˆë‹¤." },
            "FBDN": { name: "ë¹„ì—´í•œ íŒ”ë¡œì›Œ", desc: "í° ì¡°ì§ ë‚´ì—ì„œ ë¶€ì •ì ì¸ ë¶„ìœ„ê¸°ë¥¼ ì¡°ì„±í•˜ë©° ìê¸° ì¤‘ì‹¬ì ì´ê³  ê³ ì§‘ì´ ê°•í•œ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.", feedback: "ë¦¬ë”ëŠ” ì•„ë‹™ë‹ˆë‹¤. íŒ€ì›Œí¬ì—ë„ ë„ì›€ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤." },
            "FSAW": { name: "ë¶„ìœ„ê¸° ë©”ì´ì»¤", desc: "ë¦¬ë”ì‹­ì€ ë¶€ì¡±í•´ë„ ê¸ì •ì  ì—ë„ˆì§€ë¡œ íŒ€ ë¶„ìœ„ê¸°ë¥¼ ë°ê²Œ ë§Œë“­ë‹ˆë‹¤.", feedback: "íŒ€ì˜ ë¹„íƒ€ë¯¼ ê°™ì€ ì¡´ì¬ì…ë‹ˆë‹¤! ë‹¤ë§Œ, ë¦¬ë” ë³´ë‹¤ëŠ” í™œê¸°ì°¬ íŒ€ì›ì´ ì–´ìš¸ë¦½ë‹ˆë‹¤." },
            "FSAN": { name: "ì§„ì •í•œ íŒ”ë¡œì›Œ", desc: "ë¦¬ë”ì‹­ì€ ë¶€ì¡±í•´ë„ ë§¡ì€ ë°” ì„ë¬´ì— ì¶©ì‹¤í•˜ë©° ì•ˆì •ì ì¸ í™˜ê²½ì—ì„œ ìµœì„ ì„ ë‹¤í•©ë‹ˆë‹¤.", feedback: "ì¶©ì‹¤í•œ ì‹¤í–‰ì, ìš´ì˜ìì…ë‹ˆë‹¤. ë¦¬ë” ë³´ë‹¤ëŠ” ë¬µë¬µíˆ íŒ€ì„ ì§€ì›í•˜ëŠ” íŒ€ì›ì´ ì–´ìš¸ë¦½ë‹ˆë‹¤." },
            "FSDW": { name: "ìƒê°ì²˜ëŸ¼ ì•ˆë˜ëŠ” íŒ”ë¡œì›Œ", desc: "ì„¸ìƒê³¼ ì£¼ë³€ì— ëŒ€í•œ ì´í•´ë„ë§Œ ìˆìŠµë‹ˆë‹¤. ë¦¬ë”ì‹­ë„ ë°°í¬ë„ ë¶€ì¡±í•©ë‹ˆë‹¤.", feedback: "ìì‹ ê°ì„ ê°€ì§€ì„¸ìš”! í•˜ì§€ë§Œ ë¦¬ë”ëŠ” ì•„ë‹™ë‹ˆë‹¤. íŒ€ì›ìœ¼ë¡œì„œ ìµœì„ ì„ ë‹¤í•´ì£¼ì„¸ìš”." },
            "FSDN": { name: "ì¡°ì§ ìƒí™œì€ ì•ˆë§ì•„", desc: "ë¦¬ë”ë„ íŒ”ë¡œì›Œë„ ì•ˆë©ë‹ˆë‹¤. ì¡°ì§ ìƒí™œ ìì²´ê°€ ì–´ë µìŠµë‹ˆë‹¤.", feedback: "ì¡°ì§ ìƒí™œì´ ì•„ë‹Œ í˜¼ìí•  ìˆ˜ ìˆëŠ” ë‹¤ë¥¸ ì¼ì„ ì°¾ì•„ë´ì•¼ í•  ê²ƒ ê°™ì•„ìš”." }
        };

        let currentPage = 0;
        const questionsPerPage = 6;
        let answers = new Array(questions.length).fill(null);
        let radarChart = null;

        function startTest() {
            const name = document.getElementById("leaderName").value.trim();
            if (!name) return alert("í‰ê°€í•  ë¦¬ë”ì˜ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            document.getElementById("step1").classList.add("hidden");
            document.getElementById("step2").classList.remove("hidden");
            renderPage();
        }

        function renderPage() {
            const form = document.getElementById("testForm");
            form.innerHTML = "";
            const start = currentPage * questionsPerPage;
            const end = Math.min(start + questionsPerPage, questions.length);
            const name = document.getElementById("leaderName").value;

            document.getElementById("pageTitle").innerText = `${name} ë¦¬ë”ì‹­ ì§„ë‹¨ (${currentPage + 1} / ${Math.ceil(questions.length / questionsPerPage)})`;
            document.getElementById("progressFill").style.width = `${(currentPage / Math.ceil(questions.length / questionsPerPage)) * 100}%`;

            for (let i = start; i < end; i++) {
                const div = document.createElement("div");
                div.className = "question-item";
                div.innerHTML = `
                <span class="question-text">${i + 1}. ${questions[i].q}</span>
                <div class="scale-group">
                    ${[5, 4, 3, 2, 1].map(v => {
                    const labels = { 5: "ë§¤ìš° ê·¸ë ‡ë‹¤", 4: "ê·¸ë ‡ë‹¤", 3: "ë³´í†µ", 2: "ê·¸ë ‡ì§€ ì•Šë‹¤", 1: "ë§¤ìš° ê·¸ë ‡ì§€ ì•Šë‹¤" };
                    return `
                            <label class="scale-item">
                                <input type="radio" name="q${i}" value="${v}" ${answers[i] == v ? 'checked' : ''} required>
                                <span style="font-weight:bold;">${v}</span>
                                <span class="scale-label">${labels[v]}</span>
                            </label>
                        `;
                }).join("")}
                </div>
            `;
                form.appendChild(div);
            }
            window.scrollTo(0, 0);
        }

        function nextPage() {
            const start = currentPage * questionsPerPage;
            const end = Math.min(start + questionsPerPage, questions.length);

            for (let i = start; i < end; i++) {
                const checked = document.querySelector(`input[name="q${i}"]:checked`);
                if (!checked) return alert("ëª¨ë“  ë¬¸í•­ì— ì‘ë‹µí•´ì£¼ì„¸ìš”.");
                answers[i] = parseInt(checked.value);
            }

            if (end < questions.length) {
                currentPage++;
                renderPage();
            } else {
                calculateResult();
            }
        }

        function prevPage() {
            if (currentPage > 0) {
                currentPage--;
                renderPage();
            } else {
                document.getElementById("step2").classList.add("hidden");
                document.getElementById("step1").classList.remove("hidden");
            }
        }

        function calculateResult() {
            const processedScores = answers.map(a => a - 1);
            const totalScore = processedScores.reduce((a, b) => a + b, 0);

            const catScores = [0, 0, 0, 0];
            const catCounts = [0, 0, 0, 0];
            questions.forEach((q, i) => {
                catScores[q.cat] += processedScores[i];
                catCounts[q.cat]++;
            });
            const catAvgs = catScores.map((s, i) => s / catCounts[i]);

            const code = (catAvgs[0] >= 2.5 ? "L" : "F") +
                (catAvgs[1] >= 2.5 ? "B" : "S") +
                (catAvgs[2] >= 2.5 ? "A" : "D") +
                (catAvgs[3] >= 2.5 ? "W" : "N");

            showResult(totalScore, catAvgs, code);
        }

        function showResult(total, avgs, code) {
            document.getElementById("step2").classList.add("hidden");
            document.getElementById("step3").classList.remove("hidden");

            const name = document.getElementById("leaderName").value;
            // ìˆ˜ì •: ì œëª©ì— 'ë¦¬í¬íŠ¸' ëª…ì‹œ
            document.getElementById("resultHeader").innerText = `'${name}' ë¦¬ë”ì˜ ë¶„ì„ ë¦¬í¬íŠ¸`;
            document.getElementById("totalScore").innerText = total;
            document.getElementById("typeCode").innerText = code;

            // ìˆ˜ì •: ì ìˆ˜ êµ¬ê°„ë³„ ë“±ê¸‰ í…ìŠ¤íŠ¸ ë¡œì§ ì—…ë°ì´íŠ¸
            let grade = "";
            if (total >= 80) grade = "ì„¸ìƒì˜ ì°¨ì›ì„ ë°”ê¿”ê°€ëŠ” ë¦¬ë”";
            else if (total >= 51) grade = "ë³´ì™„ì´ í•„ìš”í•œ ë¦¬ë”";
            else if (total >= 26) grade = "ë¦¬ë”ë³´ë‹¤ëŠ” íŒ”ë¡œì›Œ";
            else grade = "ì¡°ì§ì— ì•ˆ ë§ì„ ìˆ˜ë„";
            document.getElementById("scoreGrade").innerText = grade;

            const info = typeInfo[code];
            document.getElementById("styleName").innerText = info.name;
            document.getElementById("styleDesc").innerText = info.desc;
            document.getElementById("styleFeedback").innerText = info.feedback;

            const ctx = document.getElementById('radarChart').getContext('2d');
            if (radarChart) radarChart.destroy();
            radarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['í•„ìˆ˜ì—­ëŸ‰(L/F)', 'ì‚¬ì´ì¦ˆ(B/S)', 'ì¡°ì§ì—ë„ˆì§€(A/D)', 'ë³€í™”ë‹¤ì–‘ì„±(W/N)'],
                    datasets: [{
                        label: 'ì˜ì—­ë³„ ì ìˆ˜ (0-4ì )',
                        data: avgs,
                        backgroundColor: 'rgba(26, 42, 108, 0.2)',
                        borderColor: '#1a2a6c',
                        pointBackgroundColor: '#b21f1f',
                        borderWidth: 2
                    }]
                },
                options: {
                    scales: { r: { min: 0, max: 4, ticks: { stepSize: 1 } } },
                    plugins: { legend: { display: false } }
                }
            });
        }
    </script>
</body>

</html>
